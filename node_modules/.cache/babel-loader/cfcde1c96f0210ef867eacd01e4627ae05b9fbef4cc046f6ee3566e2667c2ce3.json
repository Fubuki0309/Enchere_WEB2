{"ast":null,"code":"import _slicedToArray from\"/home/mahery/ITU/S5/MrRojo/enchere_web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=function Login(){var _useState=useState('rakoto@gmail.com'),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState('123'),_useState4=_slicedToArray(_useState3,2),motdepasse=_useState4[0],setMotdepasse=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var handleSubmit=function handleSubmit(event){event.preventDefault();var Client={email:email,motdepasse:motdepasse};fetch('https://encherews-production-b628.up.railway.app/Client/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(Client)}).then(function(response){if(!response.ok){setError('Identifiant ou mot de passe incorrect');throw Error(response.statusText);}return response.json();}).then(function(data){if(data.data==\"Login invalid\"){setError(data.data);}else{console.log(data.data);localStorage.setItem('idc',data.data.id);window.location.replace('/demanderechargement');}}).catch(function(error){return console.log(error);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"body\",{class:\"login\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"a\",{class:\"hiddenanchor\",id:\"signup\"}),/*#__PURE__*/_jsx(\"a\",{class:\"hiddenanchor\",id:\"signin\"}),/*#__PURE__*/_jsx(\"div\",{class:\"login_wrapper\",children:/*#__PURE__*/_jsx(\"div\",{class:\"animate form login_form\",children:/*#__PURE__*/_jsx(\"section\",{class:\"login_content\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login Form\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",placeholder:\"Email\",value:email,onChange:function onChange(event){return setEmail(event.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",class:\"form-control\",placeholder:\"Password\",value:motdepasse,onChange:function onChange(event){return setMotdepasse(event.target.value);}})}),error,/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary\",type:\"submit\",children:\"Se connecter\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"clearfix\"}),/*#__PURE__*/_jsx(\"div\",{class:\"separator\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-paw\"}),\" Enchere Mlay\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"\\xA92016 All Rights Reserved. Gentelella Alela! is a Bootstrap 3 template. Privacy and Terms\"})]})})]})})})})]})})});};export default Login;","map":{"version":3,"names":["React","useState","Login","email","setEmail","motdepasse","setMotdepasse","error","setError","handleSubmit","event","preventDefault","Client","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","statusText","json","data","console","log","localStorage","setItem","id","window","location","replace","catch","target","value"],"sources":["/home/mahery/ITU/S5/MrRojo/enchere_web/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\n\nexport const Login = () => {\n  const [email, setEmail] = useState('rakoto@gmail.com');\n  const [motdepasse, setMotdepasse] = useState('123');\n  const [error, setError] = useState('');\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const Client = {email,motdepasse};\n    fetch('https://encherews-production-b628.up.railway.app/Client/login',{\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(Client)\n    })\n    .then(response => {\n      if (!response.ok) {\n        setError('Identifiant ou mot de passe incorrect');\n        throw Error(response.statusText);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if(data.data==\"Login invalid\"){\n        setError(data.data);\n      } else{\n        console.log(data.data);\n        localStorage.setItem('idc',data.data.id);\n        window.location.replace('/demanderechargement');\n      }\n    })\n    .catch(error => console.log(error));\n  };\n\n  return (\n    <>\n    <body class=\"login\">\n    <div>\n      <a class=\"hiddenanchor\" id=\"signup\"></a>\n      <a class=\"hiddenanchor\" id=\"signin\"></a>\n\n      <div class=\"login_wrapper\">\n        <div class=\"animate form login_form\">\n          <section class=\"login_content\">\n            <form onSubmit={handleSubmit}>\n              <h1>Login Form</h1>\n              <div>\n                <input type=\"text\" class=\"form-control\" placeholder=\"Email\" value={email} onChange={(event) => setEmail(event.target.value)} />\n              </div>\n              <div>\n                <input type=\"password\" class=\"form-control\" placeholder=\"Password\" value={motdepasse} onChange={(event) => setMotdepasse(event.target.value)} />\n              </div>\n              {error}\n              <div>\n                <button class=\"btn btn-primary\" type=\"submit\">Se connecter</button>\n              </div>\n\n              <div class=\"clearfix\"></div>\n\n              <div class=\"separator\">\n                <div>\n                  <h1><i class=\"fa fa-paw\"></i> Enchere Mlay</h1>\n                  <p>Â©2016 All Rights Reserved. Gentelella Alela! is a Bootstrap 3 template. Privacy and Terms</p>\n                </div>\n              </div>\n            </form>\n          </section>\n        </div>\n      </div>\n    </div>\n  </body>\n    </>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}